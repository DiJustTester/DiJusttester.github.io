window.onload = function () {

    var
        body = $("body"),
        active = "active",
        btnMenu = $(".btn_menu"),
        fildNavigation = $(".bl_nav__all"),
        btnSearch = $(".btn_search"),
        searchFild = $(".bl_search");


    ///  sliderEffect
    function sliderEffectForButtons(button, element, duration) {
        button.click(function () {
            element.slideToggle(duration);
        });
    }


    /// toggle class Active
    function toggleClassActive(btn, fild) {
        btn.on("click", function () {
            fild.toggleClass(active);
        });
    }

    //  hideShowEffect
    function hideShowEffect(button, element) {
        button.click(function () {
            element.toggleClass("hidden");
        });
    }

    // LikeLinks buttons
    function likeLink(btn) {
        btn.on("click", function () {
            var urlLink = $(this).attr("data-href");
            if (urlLink === "") {
                alert("URL address isn't correct / шляпа");
            } else {
                window.open(urlLink);
            }
        })
    }

    likeLink($(".sliderBlock__link"));
    likeLink($(".btn_bonus__getBonus"));


    sliderEffectForButtons(btnSearch, searchFild, 500);





    if (body.width() <= 991) {

        toggleClassActive(btnMenu, fildNavigation);

    }


    var gameArea = $("#gameThumbnail");

    // var hairView = new SVGMorpheus("#main_hair");
    //
    // if(body.width()>=1200 ){
    //
    //     gameArea.hover(
    //         function(){
    //
    //
    //
    //         },
    //         function(){
    //
    //         });
    //
    //     gameArea.on("click", function () {
    //         hairView.to('hair1', {duration:500, rotation:'none'});
    //
    //     });
    //
    // }




      $('.slick-categories').slick({
          dots: false,
          infinite: true,

          autoplay: true,
          autoplaySpeed: 2500,

          centerMode: true,
          speed: 1000,
          slidesToShow: 4,
          slidesToScroll: 1,
          responsive: [
              {
                  breakpoint: 1200,
                  settings: {
                      centerMode: false,
                      slidesToShow: 4,
                      slidesToScroll: 2
                  }
              },
              {
                  breakpoint: 991,
                  settings: {
                      slidesToShow: 3,
                      centerMode: false

                  }
              },
              {
                  breakpoint: 600,
                  settings: {
                      slidesToShow: 2,
                      centerMode: false,
                      slidesToScroll: 1
                  }
              }

          ]
      });


      //// Bonuses


    var allBonuses = $(".bl_bonus").length;


    if (allBonuses > 3) {
        $(".full_bonuses").slick({
            dots: false,
            infinite: true,

            autoplay: true,
            autoplaySpeed: 1600,

            centerMode: false,
            speed: 2000,
            adaptiveHeight: true,
            slidesToShow: 3,
            slidesToScroll: 1,
            responsive: [

                {
                    breakpoint: 991,
                    settings: {
                        slidesToShow: 2,
                        centerMode: false,
                        slidesToScroll: 2
                    }
                },
                {
                    breakpoint: 600,
                    settings: {
                        slidesToShow: 1,
                        centerMode: false,
                        slidesToScroll: 1
                    }
                },
                {
                    breakpoint: 320,
                    settings: {
                        slidesToShow: 1,
                        centerMode: false,
                        slidesToScroll: 1
                    }
                }

            ]
        });
    }


    var fildDescBonuses = $(".bonuses_informations"),
        descCasino = $(".bl_bonus__downSide"),
        btnCloseInfoBonus = $(".btn_closeDownSide"),
        btnShowBonusInfo = $(".btn_bonus__info");

    btnShowBonusInfo.on("click", function () {
        fildDescBonuses.addClass(active);

        var index = $(this).closest(".bl_bonus").index();
        var correctedIndex = index - 3;


        descCasino.removeClass(active);
        descCasino.eq(correctedIndex).addClass(active);

    });

    btnCloseInfoBonus.on("click", function () {
        fildDescBonuses.removeClass(active);
        descCasino.removeClass(active);

    });


    // Ancor to top

    $(".bl_ancor").on("click", "a", function (event) {
        event.preventDefault();
        var id = $(this).attr('href'),
            top = $(id).offset().top;
        $('body,html').animate({scrollTop: top}, 500);
    });
    $(window).scroll(function () {


        var ancor = $(".bl_ancor"),
            windowHeight = $(window).height() / 2;

        if ($(this).scrollTop() > windowHeight) {

            ancor.removeClass("hidden");

        } else {
            ancor.addClass("hidden");
        }

    });


};


